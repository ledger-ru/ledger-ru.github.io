<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Tutorials on Личные финансы для гиков</title>
    <link>https://ledger-ru.github.io/tutorial/</link>
    <description>Recent content in Tutorials on Личные финансы для гиков</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>ru</language>
    <lastBuildDate>Fri, 23 Sep 2016 14:56:11 +0300</lastBuildDate>
    <atom:link href="https://ledger-ru.github.io/tutorial/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Учебник Hledger</title>
      <link>https://ledger-ru.github.io/tutorial/</link>
      <pubDate>Fri, 23 Sep 2016 14:56:11 +0300</pubDate>
      
      <guid>https://ledger-ru.github.io/tutorial/</guid>
      <description>

&lt;p&gt;Ранее учет с ledger (на русском) был описан в статьях &lt;a href=&#34;http://softdroid.net/planirovanie-finansov-ledger&#34;&gt;Планирование финансов через командную стоку в ledger&lt;/a&gt;, &lt;a href=&#34;https://bronevichok.ru/blog/2014/09/27/personal-finances-with-ledger-1.html&#34;&gt;Финансовый учёт с ledger&lt;/a&gt; и &lt;a href=&#34;http://s.arboreus.com/2009/05/personal-accounting-in-command-line.html&#34;&gt;Ledger — бухучёт в командной строке&lt;/a&gt;. Для общего развития рекомендую ознакомиться с ними.&lt;/p&gt;

&lt;h2 id=&#34;немного-теории&#34;&gt;Немного теории&lt;/h2&gt;

&lt;p&gt;Счетом мы называем любой вид Дохода/Расхода, а также любое &amp;ldquo;место&amp;rdquo;, откуда/куда приходят деньги. Кто-то называет их категориями, но суть от этого не меняется.&lt;/p&gt;

&lt;p&gt;Обычно заводят такие счета как &amp;ldquo;Продукты&amp;rdquo;, &amp;ldquo;Авто&amp;rdquo;, &amp;ldquo;Подарки&amp;rdquo;, &amp;ldquo;Зарплата&amp;rdquo;, &amp;ldquo;Наличные&amp;rdquo;, &amp;ldquo;Ипотека&amp;rdquo; и т.п.&lt;/p&gt;

&lt;p&gt;В системе двойной записи деньги переходят с одного счета на другой. И при этом отображаются в обоих строках транзакции с разными знаками.
К примеру, покупка книги за 500 рублей переводит деньги со счета &amp;ldquo;Наличные&amp;rdquo; на счет &amp;ldquo;Книги&amp;rdquo;. Получение зарплаты отражается как перевод денег со счета &amp;ldquo;Зарплата&amp;rdquo; на счет &amp;ldquo;Наличные&amp;rdquo; (ну или &amp;ldquo;Банковская карта&amp;rdquo;). Главное - помнить, что при перемещении денег в итоге должен быть обязательно ноль, иначе ничего не получится.&lt;/p&gt;

&lt;p&gt;Итак, мы выяснили, что счета могут быть самые разные, но многие пользователи добавляют такие счета верхнего уровня:&lt;/p&gt;

&lt;p&gt;• Расходы (Expenses) &lt;br /&gt;
• Доходы (Income) &lt;br /&gt;
• Активы (Assets) &lt;br /&gt;
• Обязательства (Liabilities)&lt;/p&gt;

&lt;p&gt;для того, чтобы в дальнейшем построить удобную структуру доходов/расходов. Иерархия счета таким образом может выглядеть так: &amp;ldquo;Расходы&amp;rdquo; -&amp;gt; &amp;ldquo;Авто&amp;rdquo; -&amp;gt; &amp;ldquo;Бензин&amp;rdquo;. И записываются такие счета в транзакциях через двоеточие: &amp;ldquo;Расходы:Авто:Бензин&amp;rdquo; (хотя вы можете использовать другой разделитель, об этом будет написано ниже).&lt;/p&gt;

&lt;h2 id=&#34;предупреждение&#34;&gt;Предупреждение&lt;/h2&gt;

&lt;p&gt;Я опишу здесь свой опыт реального использования утилиты hledger. Если у вас появятся вопросы, с радостью отвечу на них в комментариях или чате :)&lt;/p&gt;

&lt;p&gt;Прежде всего, почему hledger, а не ledger-cli? На самом деле между ними нет большой разницы, используйте любую утилиту, благо формат журнала у них очень похожий. Мне нравятся функциональные языки программирования, а hledger написан на Haskell. При этом я пользуюсь MS Windows, а ledger-cli в этой ОС работает не очень хорошо. У hledger есть hledger-api для написания своих программ поверх hledger и я планирую заняться этим в ближайшее время, но и у ledger есть python api, который тоже очень удобен. В общем, решать вам, что использовать, я для себя пока выбрал hledger и он мне нравится :)&lt;/p&gt;

&lt;p&gt;В этом учебнике мы создадим удобное дерево счетов, настроим программу на работу с несколькими валютами, покажем типовые сценарии использования различных финансовых инструментов и настроим удобный ввод транзакций. &lt;br /&gt;
Также построим надежную и гибкую структуру файлов журнала с выгрузкой изменений в систему хранения версий BitBucket (в приватном бесплатном репозитории).&lt;/p&gt;

&lt;h2 id=&#34;создадим-файл-журнала&#34;&gt;Создадим файл журнала&lt;/h2&gt;

&lt;p&gt;Создайте пустой файл в блокноте и сохраните файл под любым именем, например &amp;ldquo;ledger.txt&amp;rdquo;.&lt;/p&gt;

&lt;p&gt;В дальнейшем нужно будет запускать hledger так: &lt;/p&gt;

&lt;pre&gt;&lt;code&gt;hledger -f ledger.txt &amp;lt;команда&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Но для hledger можно назвать файл &amp;ldquo;.hledger.journal&amp;rdquo; и поместить его в директорию пользователя ( /home для *nix систем или &amp;ldquo;C:\Users\&amp;lt;Имя пользователя&amp;gt;\&amp;rdquo; в Windows ) и тогда при вызове hledger вам не нужно будет каждый раз указывать имя файла. Например, так:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;hledger &amp;lt;команда&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Предположим, вы так и сделали и у вас теперь есть файл журнала в домашней директории.&lt;/p&gt;

&lt;h2 id=&#34;ввод-транзакций&#34;&gt;Ввод транзакций&lt;/h2&gt;

&lt;p&gt;У hledger есть удобная команда интерактивного ввода &lt;strong&gt;add&lt;/strong&gt;, &lt;a href=&#34;https://ledger-ru.github.io/screenshots/#ввод-транзакций-с-hledger-add&#34;&gt;здесь&lt;/a&gt; вы можете ее увидеть в действии. Вы можете попробовать ввести с ее помощью транзакцию и затем посмотреть что записалось в файл журнала. &lt;br /&gt;
Откройте журнал любимым редактором ( я рекомендую SublimeText3 с плагином подсветки/дополнения или Vim/Emacs ) и добавьте следующую операцию (или замените транзакцию, созданную при помощи команды add):&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;2016/09/01 * Зарплата
	Кошелек:Наличные   10000 руб
	Доходы:Зарплата
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Вкратце поясню что мы написали, но рекомендую все же ознакомиться с &lt;a href=&#34;https://ledger-ru.github.io/cheatsheet/#формат-ledger&#34;&gt;форматом записи ledger&lt;/a&gt;. У нас описана операция получения зарплаты в размере 10000 руб от 1 сентября 2016 г. В ней мы зачисляем 10000 руб на счет &amp;ldquo;Кошелек:Наличные&amp;rdquo; со счета &amp;ldquo;Доходы:Зарплата&amp;rdquo;. &lt;br /&gt;
Вы можете указать сумму с минусом в строке &amp;ldquo;Доходы:Зарплата&amp;rdquo;, но это не обязательно и важно только в транзакциях с тремя и более строками. Hledger автоматически понимает, что с другой стороны проводки нужная нам сумма.&lt;/p&gt;

&lt;p&gt;При этом, в нашей транзакции указан флаг *, который говорит нам о том, что транзакция выверенная (флаг может быть ! и *, а можно его вообще не указывать). К примеру, вы вводите транзакции, а в конце недели сверяете с банковской выпиской, отмечая при этом сверенные транзакции флажком *. Знаком ! отмечают незаконченные транзакции (в статусе ожидания), но вам это, возможно, пригодится позже.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Свой разделитель счетов.&lt;/strong&gt; Если вам не нравится знак двоеточие между счетами, вы можете указать свой разделитель. Для этого в начале журнала добавьте псевдоним для двоеточия и программа его обработает как разделитель, к примеру, укажем точку:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# alias /РЕГУЛЯРНОЕ ВЫРАЖЕНИЕ/=ЗАМЕНА
alias /\./=:

2016/10/01 зарплата
    Кошелек.Расчетный счет  1000 руб
    Доход.Зарплата
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Еще момент - необходимо указать минимум два пробела между счетом и суммой, иначе программа будет считать сумму частью названия счета и выдаст ошибку!&lt;/p&gt;

&lt;p&gt;Теперь запустим отчет Баланс (команда balance или bal):&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;hledger balance

          -10000 руб  Доходы:Зарплата
           10000 руб  Кошелек:Наличные
--------------------
                   0
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Ноль под чертой очень важен и показывает, что у нас все транзакции записаны правильно с точки зрения двойной записи. А остаток в кошельке у нас 10 000 руб.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Теперь вы видите насколько просто вести учет денег с ledger?&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Вы спросите, почему Доходы показаны с минусом? Если кратко, то в двойной записи деньги (как и любая другая ценность) должны откуда-то переместиться куда-то. В нашем примере они пришли со статьи дохода на статью расхода. Поэтому на счете поступления показан плюсовой остаток, а на другом счете - отрицательный. Иными словами, на счете дохода их стало меньше, чем в нашем кошельке :)&lt;/p&gt;

&lt;p&gt;Введем еще одну операцию:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;2016/09/05 * Бензин
    Кошелек:Наличные
    Расходы:Авто     1000 руб
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Вы можете вводить транзакции с помощью команды add, тогда вам не нужно запоминать форматирование, флаги и т.п. Однако, сам формат журнала ledger очень простой и вводить транзакции руками не сложно. Я чаще всего использую копирование предыдущих записей с правкой даты и суммы - для каждодневных трат это удобно. &lt;br /&gt;
Для редких записей несложно либо найти их ранее в журнале, либо ввести &amp;ldquo;с нуля&amp;rdquo;, для этого и важно понимать формат.&lt;/p&gt;

&lt;h2 id=&#34;отчеты&#34;&gt;Отчеты&lt;/h2&gt;

&lt;p&gt;Чаще всего нужен ответ на вопрос &amp;ldquo;Сколько я трачу в месяц на &amp;hellip;?&amp;rdquo; Увидеть это можно так:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;hledger -M register Расходы:Авто

2016/09                 Расходы:Авто                      1000 руб      1000 руб
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Теперь купим немного продуктов:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;2016/09/21 * продукты
	Кошелек:Наличные
	Расходы:Продукты			700 руб
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Запускаем баланс:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;hledger balance
          -10000 руб  Доходы:Зарплата
            8300 руб  Кошелек:Наличные
            1700 руб  Расходы
            1000 руб    Авто
             700 руб    Продукты
--------------------
                   0
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Выводим список наших транзакций:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;hledger reg
2016/09/01 Зарплата             Кошелек:Наличные         10000 руб     10000 руб
                                Доходы:Зарплата         -10000 руб             0
2016/09/05 Бензин               Кошелек:Наличные         -1000 руб     -1000 руб
                                Расходы:Авто              1000 руб             0
2016/09/21 продукты             Кошелек:Наличные          -700 руб      -700 руб
                                Расходы:Продукты           700 руб             0
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Ну и баланс еще раз:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# Сколько потратил на авто:
hledger bal Расходы:Авто
            1000 руб  Расходы:Авто
--------------------
            1000 руб

# Сколько у меня денег:
hledger bal ^Расходы ^Доходы
          -10000 руб  Доходы:Зарплата
            1700 руб  Расходы
            1000 руб    Авто
             700 руб    Продукты
--------------------
           -8300 руб
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;дерево-статей&#34;&gt;Дерево статей&lt;/h2&gt;

&lt;p&gt;Один из самых важных вопросов в ведении личных доходов - удобное дерево статей (счетов). &lt;br /&gt;
Кто-то пытается максимально подробно вести учет, вплоть до того, что делают статьи чрезмерно большой вложенности: &amp;ldquo;Расходы - Продукты - Крупы - Гречка&amp;rdquo;. Если вы ведете учет финансов больше года, то это может быть оправдано, но если вы только начали, то ведение настолько подробного учета прогонит все желание продолжать. &lt;br /&gt;
Я предлагаю начать с малого и увеличивать количество статей в процессе. Итак, мы с вами уже описали счета &amp;ldquo;Кошелек:Наличные&amp;rdquo;, &amp;ldquo;Доходы:Зарплата&amp;rdquo;, &amp;ldquo;Расходы:Авто&amp;rdquo; и &amp;ldquo;Расходы:Продукты&amp;rdquo;. Отличное начало. &lt;br /&gt;
Теперь представим основные кошельки / доходы / расходы / долги и на основе этого (пока мысленно) составим наше дерево статей. К слову, у меня примерно такое (это не файл примера):&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;λ hledger accounts --tree   

Кошелек                                        
  Кредитка                   
  Наличные                   
Расходы                     
  Авто                       
    Бензин                   
    Налоги                    
    Ремонт                                       
  Здоровье                   
  Коммунальные               
  Налоги                     
  Одежда                     
  Продукты                   
  Прочие                     
  Связь                      
Кредиты
  Банк1
  Банк2
Доход                       
  Зарплата                  
  Прочий                     
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Еще момент про дерево статей: когда мне нужно увидеть какой-то расход более подробно, я создаю для него отдельный счет. К примеру, все продукты я учитываю на счете &amp;ldquo;Расходы:Продукты&amp;rdquo;, но, к примеру, мне стало интересно, сколько я трачу на кофе ( и это не праздный интерес, кофе действительно стало уменьшаться очень быстро :) ). Для этого я создаю транзакции по покупке кофе так:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;2016/10/01 * кофе
    Кошелек:Наличные
    Расходы:Продукты:Кофе  200 руб
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Так в вашем балансе будет видно расходы в целом на продукты, а также отдельной строкой затраты на кофе. Очень удобно!&lt;/p&gt;

&lt;p&gt;Вы теперь умеете вводить транзакции (через команду &lt;strong&gt;add&lt;/strong&gt; или вручную в текстовом редакторе) и пользуетесь при этом вашим деревом статей. Замечательно. Теперь давайте сделаем наш журнал более удобным.&lt;/p&gt;

&lt;h2 id=&#34;файл-журнала&#34;&gt;Файл журнала&lt;/h2&gt;

&lt;p&gt;Откроем снова наш файл .hledger.journal:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;; Это главный файл журнала hledger.
; Реальные данные содержатся в файлах в папке myledger
; Вложим актуальный журнал

include myledger/main.journal
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Таким образом можно разбивать файлы транзакций по валютам, счетам, а также &lt;a href=&#34;https://habrahabr.ru/post/308434/&#34;&gt;по годам для удобства&lt;/a&gt;. Что мы и сделаем:&lt;/p&gt;

&lt;p&gt;Создайте папку &lt;strong&gt;myledger&lt;/strong&gt; в домашней директории пользователя. Откройте ее.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Предупреждение:&lt;/strong&gt; Вы можете пропустить этот абзац, если не планируте хранить ваш журнал в системе версий. &lt;br /&gt;
Зарегистрируйтесь на BitBucket и создайте новый приватный репозиторий. Нозовите его, к примеру, &amp;ldquo;myledger&amp;rdquo;.
Откройте терминал и перейдите в эту папку:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;cd myledger
git init
git remote add origin https://fokusov@bitbucket.org/fokusov/myledger.git
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;strong&gt;примечание:&lt;/strong&gt; название репозитория и имя пользователя замените на свое.&lt;/p&gt;

&lt;p&gt;Создадим файл &lt;strong&gt;main.journal&lt;/strong&gt; в этой папке и откроем его:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;alias Кредиты = Liabilities
alias Кошелек = Assets
alias Расходы = Expenses
alias Доходы = Income

D 1000.00 руб

include 2015.journal
include 2016.journal

end aliases

include prices.dat
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Итак, в этом файле также нет транзакций, но указана метаинформация, очень важная для hledger. &lt;br /&gt;
Первые строки, начинающиеся с alias - это наши псевдонимы для счетов, чтобы программа могла составлять правильно отчетные формы, а мы могли писать название корневых счетов по-русски. &lt;br /&gt;
Далее идет строка &lt;code&gt;D 1000.00 руб&lt;/code&gt;, описывающая валюту по-умолчанию и ее формат. Таким образом, не указывая явно валюту в каждой транзакции, мы будем знать, что она рублевая и пересчет между валютами будет корректен. &lt;br /&gt;
Далее мы вкладываем журналы транзакций, разбитые по годам. Я веду учет три года и у меня вложены файлы журнала за последние три года. &lt;br /&gt;
Сортировать по годам необязательно, но очень удобно, что записи разных лет хранятся в разных файлах, а не в одном большом.
Фразой &lt;code&gt;end aliases&lt;/code&gt; мы завершаем применение псевдонимов к нашим файлам и ниже вкладываем файл с ценами prices.dat.&lt;/p&gt;

&lt;p&gt;Создайте указанные файлы (2015.journal, 2016.journal, prices.dat) или закомментируйте строку с ненужным файлом. Комментарии начинаются со знака &lt;code&gt;;&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Сохраним наши файлы в репозитории:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;git add *
git commit -m &amp;quot;Initial commit&amp;quot;
git push -u origin master
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Теперь открываем файл нужного года (к примеру, 2016.journal) и вводим в него транзакции с помощью текстового редактора. Либо с помощью команды &lt;strong&gt;add&lt;/strong&gt;, но с обязательным указание файла журнала, иначе она добавит наши транзакции в главный журнал:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;hledger add -f myledger\2016.journal
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Сделаем командный файл, который будет выгружать наши изменения в удаленный репозиторий:&lt;/p&gt;

&lt;p&gt;myledger\upd.cmd:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;git add -A
git commit -m &amp;quot;upd&amp;quot;
git push origin master
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Добавим еще один служебный тег в текущий файл журнала (2016.journal):&lt;/p&gt;

&lt;p&gt;Добавьте в начало файла указание на год:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Y2016
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Теперь мы можем вводить транзакции немного быстрее:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;10/01
    Кошелек:Наличные
    Расходы:Продукты    500
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;не указывая год и валюту (но если укажете год в транзакции, ничего страшного не произойдет). При этом программа знает, что это рублевая транзакция, совершенная в 2016 году.&lt;/p&gt;

&lt;h2 id=&#34;мультивалютность&#34;&gt;Мультивалютность&lt;/h2&gt;

&lt;p&gt;В ledger очень легко вести учет в разных валютах и пересчитывать их из одной в другую автоматически.&lt;/p&gt;

&lt;p&gt;Для этого необходимо вести файл с ценами/курсами (этот файл также нужен для автоматического расчета стоимости ценных бумаг), который можно сделать для автоматической загрузки из сети. У нас он уже есть, это файл &lt;strong&gt;prices.dat&lt;/strong&gt;. Откроем его:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;P 2016/10/28 10:00:00 USD 62.96 руб
P 2016/10/28 10:00:00 EUR 68.77 руб
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Как мы видим, это официальные курсы валют центробанка на указанную дату, структурированные в формате ledger.&lt;/p&gt;

&lt;p&gt;Если вы ведете транзакции в разной валюте, к примеру так:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;2016/09/01 Зарплата
  Кошелек:Наличные   10000 руб
  Доходы:Зарплата
  
2016/09/05 * Бензин
    Кошелек:Наличные
    Расходы:Авто     1000 руб

2016/09/21 * продукты
  Кошелек:Наличные
  Расходы:Продукты   700 руб

2016/09/10 Шабашка
  Кошелек:Наличные   500 USD
  Доходы:Прочие
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;то баланс будет не очень красивый:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;λ hledger bal
            -500 USD
          -10000 руб  Доходы
          -10000 руб    Зарплата
            -500 USD    Прочие
             500 USD
            8300 руб  Кошелек:Наличные
            1700 руб  Расходы
            1000 руб    Авто
             700 руб    Продукты
--------------------
                   0
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;# Попросим сконвертировать все данные в базовую валюту:
λ hledger bal -V
       -41480.00 руб  Доходы
       -10000.00 руб    Зарплата
       -31480.00 руб    Прочие
        39780.00 руб  Кошелек:Наличные
         1700.00 руб  Расходы
         1000.00 руб    Авто
          700.00 руб    Продукты
--------------------
                   0
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Так лучше :)&lt;/p&gt;

&lt;p&gt;Теперь введем валютную транзакцию, но чтобы она посчиталась корректно. Для этого есть три способа:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;; 1. указываем уже рассчитанную стоимость в рублях - к примеру, когда наш банк уже пересчитал ее по своему курсу и снял с карты
2016/10/28 покупка домена
    Кошелек:Карта
    Расходы:Прочие     8.17 USD @@ 514.38 руб


; 2. указываем курс валюты / цену товара за единицу
2016/10/28 покупка домена
    Кошелек:Карта
    Расходы:Прочие     8.17 USD @ 62.96 руб


; 3. позволим hledger рассчитать курс / цену
2016/10/28 покупка домена
    Кошелек:Карта      -514.38 руб
    Расходы:Прочие     8.17 USD

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Выведите баланс в консоли и потом баланс с ключом -V.&lt;/p&gt;

&lt;h2 id=&#34;полезные-команды&#34;&gt;Полезные команды&lt;/h2&gt;

&lt;p&gt;У hledger есть немало команд, не говоря о плагинах. Но я рассмотрю те, которыми пользуюсь сам.&lt;/p&gt;

&lt;p&gt;Команды:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;  print            выводит список транзакций на экран
  accounts         выводит названия счетов
  balance          выводит счета и баланс (bal)
  register         транзакции и сальдо каждой (reg)
  incomestatement  отчет о доходах и расходах (is)
  balancesheet     выводит баланс - активы/пассивы (bs)
  cashflow         выводит денежный поток (cf)
  activity         выводит диаграмму в ascii о движении денег за период
                   (по умолчанию: за день)
  stats            выводит статистику журнала
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Выведем статистику моего журнала:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;λ hledger stats
Main file                : C:\Users\fokusov\.hledger.journal
Included files           : C:\Users\fokusov\myledger/main.journal
                           C:\Users\fokusov\myledger\2014.journal
                           C:\Users\fokusov\myledger\2015.journal
                           C:\Users\fokusov\myledger\2016.journal
                           C:\Users\fokusov\myledger\prices.dat
Transactions span        : 2014-04-01 to 2016-11-03 (947 days)
Last transaction         : 2016-11-02 (1 days ago)
Transactions             : 431 (0.5 per day)
Transactions last 30 days: 76 (2.5 per day)
Transactions last 7 days : 12 (1.7 per day)
Payees/descriptions      : 89
Accounts                 : 39 (depth 3)
Commodities              : 3 (EUR, USD, руб)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Интересное применение команды print:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# заархивируем 2015 год в отдельном файле
hledger print -b 2015 -e 2016 &amp;gt; 2015.journal
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Команда balancesheet&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ hledger balancesheet
Balance Sheet

Assets:
                 $-1  assets
                  $1    Банк:Вклад
                 $-2    Наличные
--------------------
                 $-1

Liabilities:
                  $1  liabilities:Долги
--------------------
                  $1

Total:
--------------------
                   0
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Команда cashflow&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ hledger cashflow
Cashflow Statement

Cash flows:
                 $-1  assets
                  $1    Банк:Вклад
                 $-2    Наличные
--------------------
                 $-1

Total:
--------------------
                 $-1
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Команда incomestatement&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ hledger incomestatement
Income Statement

Revenues:
                 $-2  income
                 $-1    Подарки
                 $-1    Зарплата
--------------------
                 $-2

Expenses:
                  $2  expenses
                  $1    Продукты
                  $1    Прочее
--------------------
                  $2

Total:
--------------------
                   0
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;еще-транзакции&#34;&gt;Еще транзакции&lt;/h2&gt;

&lt;p&gt;Я опишу для примера несколько видов транзакций, которыми пользуюсь сам - это учет долгов, ввод начальных остатков, ввод большого чека. Это справочная информация, возможно, она вам не пригодится. Однако, для общего развития очень полезна:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Ввод начального остатка. К примеру, вы начали ведение журнала не с нуля, а имея начальные остатки. Здесь есть немало вариантов как это сделать, я покажу свой:&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code&gt;2016/09/01 начальный остаток
  Кошелек:Наличные   10000 руб
  Старт 

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;где &amp;ldquo;Старт&amp;rdquo; можно заменить на &amp;ldquo;Капитал:Открытие счета&amp;rdquo; или что-то подобное. Важно что на нужном счете появится нужная сумма, при этом взятая из другого источника (т.е. нам он не важен).&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Учет долгов. Здесь все просто - долг это такой же счет, но многие поначалу путаются, как правильно внести долги.&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code&gt;2016/09/01 Взял в долг у Ивана
  Кошелек:Наличные   10000 руб
  Долги:Иван

2016/09/11 Отдал долг Ивану
  Кошелек:Наличные
  Долги:Иван         10000 руб

&lt;/code&gt;&lt;/pre&gt;

&lt;ul&gt;
&lt;li&gt;Большой чек. Вы купили много товаров, при этом хотите все внести одной транзакцией:&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code&gt;2016/10/01 * Леруа
  Кошелек:Наличные                 -47850 руб ; цифра введена для контроля, если ее не вводить, то она рассчитается автоматом
  Расходы:Ремонт квартиры:Обои     8250 руб
  Расходы:Ремонт квартиры:Краска   6300 руб
  Расходы:Ремонт квартиры:Ламинат  23000 руб
  Расходы:Ремонт квартиры:Светильник  10300 руб
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;дальнейшая-работа&#34;&gt;Дальнейшая работа&lt;/h2&gt;

&lt;p&gt;Я продолжаю изучать возможности ledger и многое еще предстоит открыть. &lt;br /&gt;
В ближайших планах: &lt;br /&gt;
- настроить синхронизацию с мобильным приложением Monefy (или аналогом); &lt;br /&gt;
- найти хороший веб-интерфейс для просмотра отчетов ledger; &lt;br /&gt;
- настроить обмен данными с банками (выгрузка в csv); &lt;br /&gt;
- настроить автоматический расчет налогов с дохода (6% для фрилансера на УСН) при вводе транзакций.&lt;/p&gt;

&lt;p&gt;Возможно, вы тоже нашли интересные штуки при работе с ledger, поделитесь ими в комментариях :)&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>