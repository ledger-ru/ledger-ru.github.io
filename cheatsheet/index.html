<!DOCTYPE html>
  
  
  
  
   <html class="no-js"> 

  <head lang="ru">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=10" />
    <meta name="google-site-verification" content="BRLJtg-Dz8fP9vutxOptMH3zMLYUI4XtK-mys0qoEIw" />
    <title>Шпаргалка - Личные финансы для гиков</title>
    <meta name="generator" content="Hugo 0.16" />

    
    <meta name="description" content="Ledger по-русски">
    
    <link rel="canonical" href="https://ledger-ru.github.io/cheatsheet/">
    
    <meta name="author" content="Igor Fokusov">
    

    <meta property="og:url" content="https://ledger-ru.github.io/cheatsheet/">
    <meta property="og:title" content="Личные финансы для гиков">
    <meta property="og:image" content="https://ledger-ru.github.io/images/logo.png">
    <meta name="apple-mobile-web-app-title" content="Личные финансы для гиков">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="shortcut icon" type="image/x-icon" href="https://ledger-ru.github.io/images/favicon.ico">
    <link rel="icon" type="image/x-icon" href="https://ledger-ru.github.io/images/favicon.ico">

    <style>
      @font-face {
        font-family: 'icon';
        src: url('https://ledger-ru.github.io/fonts/icon.eot?52m981');
        src: url('https://ledger-ru.github.io/fonts/icon.eot?#iefix52m981')
               format('embedded-opentype'),
             url('https://ledger-ru.github.io/fonts/icon.woff?52m981')
               format('woff'),
             url('https://ledger-ru.github.io/fonts/icon.ttf?52m981')
               format('truetype'),
             url('https://ledger-ru.github.io/fonts/icon.svg?52m981#icon')
               format('svg');
        font-weight: normal;
        font-style: normal;
      }
    </style>

    <link rel="stylesheet" href="https://ledger-ru.github.io/stylesheets/application.css">
    <link rel="stylesheet" href="https://ledger-ru.github.io/stylesheets/temporary.css">
    <link rel="stylesheet" href="https://ledger-ru.github.io/stylesheets/palettes.css">
    <link rel="stylesheet" href="https://ledger-ru.github.io/stylesheets/highlight/highlight.css">

    
    
    
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:400,700|Roboto&#43;Mono">
    <style>
      body, input {
        font-family: 'Roboto', Helvetica, Arial, sans-serif;
      }
      pre, code {
        font-family: 'Roboto Mono', 'Courier New', 'Courier', monospace;
      }
    </style>

    
    <script src="https://ledger-ru.github.io/javascripts/modernizr.js"></script>

    

  </head>
  <body class="palette-primary-blue-grey palette-accent-blue-grey">



	
	


<div class="backdrop">
	<div class="backdrop-paper"></div>
</div>

<input class="toggle" type="checkbox" id="toggle-drawer">
<input class="toggle" type="checkbox" id="toggle-search">
<label class="toggle-button overlay" for="toggle-drawer"></label>

<header class="header">
	<nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        Шпаргалка
      </div>
    </div>

       
    
        
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
</header>

<main class="main">
	<div class="drawer">
		<nav aria-label="Navigation">
      <div class="toc">
        
        <ul>
          




<li>
  
    



<a  title="Главная" href="https://ledger-ru.github.io/">
	
	Главная
</a>


  
</li>



<li>
  
    



<a  title="Бухгалтерия для гика" href="https://ledger-ru.github.io/getting-started/">
	
	Бухгалтерия для гика
</a>


  
</li>



<li>
  
    



<a  title="Снимки экрана" href="https://ledger-ru.github.io/screenshots/">
	
	Снимки экрана
</a>


  
</li>



<li>
  
    



<a  title="Установка ledger" href="https://ledger-ru.github.io/install/">
	
	Установка ledger
</a>


  
</li>



<li>
  
    



<a  title="Учебник ledger" href="https://ledger-ru.github.io/tutorial/">
	
	Учебник ledger
</a>


  
</li>



<li>
  
    



<a class="current" title="Шпаргалка ledger" href="https://ledger-ru.github.io/cheatsheet/">
	
	Шпаргалка ledger
</a>


<ul id="scrollspy">
</ul>

  
</li>



<li>
  
    



<a  title="Список дел todo.txt" href="https://ledger-ru.github.io/todotxt/">
	
	Список дел todo.txt
</a>


  
</li>


        </ul>
        

        
        <hr>
        <span class="section">Контакты</span>
        
        <ul>
          

          
          <li>
            <a href="https://github.com/ledger-ru" target="_blank" title="@ledger-ru on GitHub">
              @ledger-ru on GitHub
            </a>
          </li>
          
          
          
          <li>
            <a href="https://telegram.me/ledger_ru" target="_blank" title="@ledger_ru on Telegram">
              @ledger_ru on Telegram
            </a>
          </li>
                   
          
        </ul>
        
      </div>
    </div>
  </div>
</nav>

	</div>

	<article class="article">
		<div class="wrapper">
			<h1>Шпаргалка </h1>

			

<h1 id="ledger-cli">Ledger cli</h1>

<p><a href="http://ricostacruz.com/cheatsheets/ledger.html">источник</a></p>

<h2 id="баланс">Баланс</h2>

<pre><code>$ ledger bal
</code></pre>

<h2 id="список-транзакций">Список транзакций</h2>

<pre><code>$ ledger reg
</code></pre>

<h2 id="список-транзакций-с-фильтром">Список транзакций с фильтром</h2>

<pre><code>$ ledger reg Продукты # покажет только операции по расходам на продукты
</code></pre>

<h2 id="баланс-с-фильтром">Баланс с фильтром</h2>

<pre><code>$ ledger bal Расходы  # проверка, не ошибся ли я при вводе данных
</code></pre>

<p>Параметры cli</p>

<pre><code>  -b 01/01   # --начало периода
  -e 01/31   # --конец периода
  -S date    # --сортировка по дате / сумме
  -S amount
</code></pre>

<h1 id="примеры">Примеры</h1>

<pre><code># расхождения
  ledger bal Аренда Транспорт  		# только по этим статьям
  ledger bal Доход and Работа       # по всем
  ledger bal Расходы and not (Напитки or Еда)

# на что я больше всего потратил? (--sorted)
  ledger reg Расходы -S amount

# сколько у меня есть на определенную дату? (--end)
  ledger bal -e 01/15 ^Активы ^Обязательства

# сколько я потратил и заработал в этом месяце?
  ledger bal ^Расходы ^Доходы --invert

# сколько было потрачено в течение 3 дней? (всего)
  ledger reg -b 01/25 -e 01/27 --subtotal
  ledger reg -b 01/25 -e 01/27 --subtotal grocery
</code></pre>

<h2 id="формат">Формат</h2>

<p>Типовая транзакция</p>

<pre><code>2013/01/03 * Аренда в январе
  Расходы:Аренда   600 руб
  Активы:Копилка

* = подтверждена
! = не подтверждена
</code></pre>

<p>Двойная дата</p>

<pre><code>2008/01/01=2008/01/14 Client invoice  ;  крайняя дата платежа
</code></pre>

<h2 id="выравнивание-баланса">Выравнивание баланса</h2>

<pre><code>2008/01/01 * Баланс наличности
  Активы:Наличные   = $500
  Капитал:Выравнивание

2008/01/01 * KFC
  Расходы:Еда  		$20
  Активы:Наличные   = $500 ; выясним, что нужно сделать, чтобы баланс стал $500
</code></pre>

<h2 id="товары-с-ценой">Товары с ценой</h2>

<pre><code>; цена за штуку
2010/05/31 * Рынок
  Активы:Холодильник                35 яблок @ $0.42
  Активы:Наличные

; общая сумма
2010/05/31 * Рынок
  Активы:Холодильник                35 яблок @@ $14.70
  Активы:Наличные

; фиксированные цены
2010/05/31 * Бензин
  Расходы:Бензин             		11 GAL {=$2.299}
  Активы:Наличные
</code></pre>

<p>Определение своей валюты</p>

<pre><code>commodity $
         note Американский доллар
         format $1,000.00
         nomarket
         default
</code></pre>

<h2 id="бюджетирование-месячное-и-годовое">Бюджетирование - месячное и годовое</h2>

<pre><code>~ Monthly
  Расходы:Аренда  $500
  Расходы:Еда  	  $100
  Расходы         $40 ; все остальное
  Активы

~ Yearly

; ledger bal --budget Расходы
; ledger bal --unbudgeted Расходы
</code></pre>

<h2 id="комментарии">Комментарии</h2>

<pre><code>; строчный комментарий
# и это строчный комментарий
% и это строчный комментарий
| и это строчный комментарий
* и это тоже строчный комментарий
</code></pre>

<h2 id="периоды">Периоды</h2>

<pre><code>[interval] [begin] [end]

interval
  every day|week|month|quarter|year
  every N days|weeks|...
  daily|weekly|...
begin
  from &lt;spec&gt;
end
  to &lt;spec&gt;
spec
  2004
  2004/10/1

$ ledger bal|reg --period &quot;until aug&quot;
$ ledger bal|reg --period &quot;last oct&quot;
$ ledger bal|reg --period &quot;every week&quot;
</code></pre>

<h2 id="команда-register">команда Register</h2>

<pre><code>$ ledger reg
  -D, --daily
  -W, --weekly
  -M, --monthly
  --quarterly
  -Y, --yearly
  -s, --subtotal
  --start-of-week monday

  -S, --sort date
  -S, --sort amount
</code></pre>

<h2 id="фильтры">Фильтры</h2>

<pre><code>    -b, --begin DATE
    -e, --end DATE

    -d payee =~ /pioneer/

    -C, --cleared    # (с *)
    -U, --uncleared  # (без *)
    --pending        # (с !)

    -R, --real       # игнорить виртуальные операции (типа: &quot;(Наличные)  $-400&quot;)
    -L, --actual     # без автоматических операций (типа: &quot;= /^Доход/&quot;)

    -r, --related   # покажет другую сторону
                    # &quot;reg -r Накопления&quot; покажет откуда они взялись
</code></pre>

<h2 id="запросы">Запросы</h2>

<pre><code>^regex$ 
@payee
%tag
=note
#code
term and term
term or term
not term
\( term \)
</code></pre>

<p>Пример</p>

<pre><code>ledger r ^Расходы and @Сын
ledger r Еда and @Старбакс and not Обед
</code></pre>

<p>Отображение</p>

<pre><code>-n, --collapse       # [register] свернуть записи
                     # [balance] без общих итогов
-s, --subtotal       # [balance] показывать субсчета
                     # [other] отображать подытоги
--flat
</code></pre>

<h1 id="примеры-1">Примеры</h1>

<p>Проверка транзакций</p>

<pre><code># вывести расходы за октябрь (--period)
  ledger r Расходы -p oct

# наибольшие расходы? (--sorted)
  ledger r Расходы -S amount --tail 10

# сколько потратили на продукты? (--weekly, --monthly)
  ledger r Продукты
  ledger r Продукты -W # за неделю
  ledger r Продукты -M # за месяц

# на что я потратил деньги с карты Mastercard? (--period, --begin, --end)
  ledger r mastercard
  ledger r mastercard -p &quot;january&quot;
  ledger r mastercard -b 01/25 -e 01/31
</code></pre>

<h2 id="вывод-отчетов">Вывод отчетов</h2>

<pre><code># вывести ежемесячный баланс банковского счета
  ledger r Накопления -M

# ежемесячные расходы (-n = --collapse)
  ledger r Расходы -M -n

# ...а сколько в среднем за месяц?
  ledger r Расходы -M -n --average
</code></pre>

<p>Еще проще</p>

<pre><code># что я вчера делал?
# ..список вчерашних транзакций
  ledger r -p 01/26
  ledger r -p yesterday
</code></pre>

<p>Конвертации</p>

<pre><code># а что если все представить в USD? (--exchange)
  ledger b Активы -X USD
</code></pre>

<h2 id="ledger-csv">ledger csv</h2>

<pre><code>$ ledger csv
</code></pre>

<p>Пример вывода</p>

<pre><code>date         , ?  , desc     , account                  , currency , amt     , pending/cleared , ?
&quot;2013/09/02&quot; , &quot;&quot; , &quot;шмотки&quot; , &quot;Активы:Наличные&quot;        , &quot;P&quot;      , &quot;-2000&quot; , &quot;*&quot;             , &quot;&quot;
&quot;2013/09/02&quot; , &quot;&quot; , &quot;шмотки&quot; , &quot;Обязательства:Кредитка&quot; , &quot;P&quot;      , &quot;-200&quot;  , &quot;*&quot;             , &quot;&quot;
&quot;2013/09/02&quot; , &quot;&quot; , &quot;шмотки&quot; , &quot;Расходы:Шмотки&quot;         , &quot;P&quot;      , &quot;2200&quot;  , &quot;*&quot;             , &quot;&quot;
&quot;2013/09/04&quot; , &quot;&quot; , &quot;прочее&quot;  , &quot;Активы:Наличные&quot;       , &quot;P&quot;      , &quot;-20&quot;   , &quot;*&quot;             , &quot;&quot;
&quot;2013/09/04&quot; , &quot;&quot; , &quot;прочее&quot;  , &quot;Расходы:Прочие&quot;        , &quot;P&quot;      , &quot;20&quot;    , &quot;*&quot;             , &quot;&quot;
</code></pre>

<h2 id="формат-ledger">Формат ledger</h2>

<p>Первая строка</p>

<pre><code>2015/01/01 *       Аренда       ; тэг
^          ^       ^
Дата       Флаг    Описание     ^ комментарий/тэг
</code></pre>

<h2 id="алиасы-псевдонимы">Алиасы (псевдонимы)</h2>

<pre><code>alias Налик = Активы:Наличные
</code></pre>

<p>Указание года по-умолчанию</p>

<pre><code>Y2015 ; год по-умолчанию (когда вы введете 01/25, год будет вычислен из умолчания)
</code></pre>

<h2 id="типы-счетов">Типы счетов</h2>

<p>Активы          +<br />
Доходы          -<br />
Расходы         +<br />
Обязательства   -<br />
Капитал         -</p>

<h2 id="ценности">Ценности</h2>

<p>(Все в ВЕРХНЕМ РЕГИСТРЕ)</p>

<p>RUR, USD, EUR, CAD, GOOG, AAPL, RBF1005, МИЛИ, ЧАСЫ</p>

<h2 id="формат-дат">Формат дат</h2>

<p>YYYY-MM-DD      (ГГГГ-ММ-ДД)<br />
YYYY/MM/DD      (ГГГГ/ММ/ДД)<br />
YYYY.MM.DD      (ГГГГ.ММ.ДД)<br />
MM-DD           (ММ-ДД)<br />
MM/DD           (ММ/ДД)<br />
MM.DD           (ММ.ДД)</p>

<h2 id="цены">Цены</h2>

<p>&ldquo;P ДАТА ВРЕМЯ ЦЕННОСТЬ ЦЕНА&rdquo;</p>

<p>P 2004/06/21 02:18:02 AAPL $32.91<br />
P 2004/06/21 02:18:02 AU $400.00</p>


			<aside class="copyright" role="note">
				
				&copy; 2016 MIT license &ndash;
				
				Powered by
				<a href="https://www.gohugo.io" target="_blank">Hugo</a>
				and 
				<a href="http://github.com/digitalcraftsman/hugo-material-docs" target="_blank">Material</a> theme.
			</aside>

			<footer class="footer">
				
			</footer>
		</div>
	</article>

	<div class="results" role="status" aria-live="polite">
		<div class="scrollable">
			<div class="wrapper">
				<div class="meta"></div>
				<div class="list"></div>
			</div>
		</div>
	</div>
</main>

    <script>
    
      var base_url = 'https:\/\/ledger-ru.github.io\/';
      var repo_id  = 'ledger-ru\/ledger-ru.github.io';
    
    </script>

    <script src="https://ledger-ru.github.io/javascripts/application.js"></script>
    

    <script>
      /* Add headers to scrollspy */
      var headers   = document.getElementsByTagName("h2");
      var scrollspy = document.getElementById('scrollspy');

      if(scrollspy) {
        if(headers.length > 0) {
          for(var i = 0; i < headers.length; i++) {
            var li = document.createElement("li");
            li.setAttribute("class", "anchor");

            var a  = document.createElement("a");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", headers[i].innerHTML);
            a.innerHTML = headers[i].innerHTML;
            
            li.appendChild(a)
            scrollspy.appendChild(li);
          }
        } else {
          scrollspy.parentElement.removeChild(scrollspy)
        }
        

        /* Add permanent link next to the headers */
        var headers = document.querySelectorAll("h1, h2, h3, h4, h5, h6");

        for(var i = 0; i < headers.length; i++) {
            var a = document.createElement("a");
            a.setAttribute("class", "headerlink");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", "Permanent link")
            a.innerHTML = "#";
            headers[i].appendChild(a);
        }
      }
    </script>

    
      <script>
        (function(i,s,o,g,r,a,m){
          i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||
          []).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;
          m.parentNode.insertBefore(a,m)
        })(window, document,
          'script', '//www.google-analytics.com/analytics.js', 'ga');
         
        ga('create', 'UA-54274841-8', 'auto');
        ga('set', 'anonymizeIp', true);
        ga('send', 'pageview');
         
        var buttons = document.querySelectorAll('a');
        Array.prototype.map.call(buttons, function(item) {
          if (item.host != document.location.host) {
            item.addEventListener('click', function() {
              var action = item.getAttribute('data-action') || 'follow';
              ga('send', 'event', 'outbound', action, item.href);
            });
          }
        });
         
        var query = document.querySelector('.query');
        query.addEventListener('blur', function() {
          if (this.value) {
            var path = document.location.pathname;
            ga('send', 'pageview', path + '?q=' + this.value);
          }
        });
      </script>
    

    <script src="//gohugo.io/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>
